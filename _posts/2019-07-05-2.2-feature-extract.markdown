<head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                    tex2jax: {
                    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                    inlineMath: [['$','$']]
                    }
                });
    </script>
</head>

## 2.2 如何萃取，特征提取
### 滤波器组设计
与其他机器学习的任务类似，特征提取对于模型训练来说至关重要。在语音唤醒任务里，我们提炼出一组滤波器来提取特征，希望能一定程度上体现人耳的特点，从而提高任务准确性。这里主要涉及人耳的两个特性

 - 频域感知非线性，指导滤波器组的中心频率
 - 掩蔽效应和临界带宽，指导滤波器组的带宽

人耳对不同频率的声音敏感度不同，就像一个滤波器组一样，它只关注某些特定的频率分量，也就说，它只让某些频段信号通过，而无视它不想感知频段信号。高频和低频的敏感度比较低，如下图所示，30Hz和15kHz的声音需要60dB才能被人耳听到，而1kHZ的声音在0db处就可以听到。
    ![ATH.png](../assets/feature-extract/ATH.png)

同时在感知频率区域内，敏感度也不是均匀分布的，比如在$$(100Hz, 4kHz)$$区域内曲线比较平缓，而5kHz以上曲线就变得陡峭。针对人耳敏感度在频域的这种非线性，我们将语音转换到梅尔Mel刻度，梅尔刻度是一种基于人耳对等距的音高变化的感官判断而定的非线性频率刻度，梅尔刻度和赫兹的转换关系是
$$
m=2595\; log_{10}(1+\frac{f}{700})
\\ f=700\; (10^{\frac{m}{2595}}-1)
$$

在梅尔频域内均分分布滤波器组，正好线性反映了人耳对音调的感知能力。
人耳在安静的环境中分辨出轻微的声音，但是在嘈杂的环境里，这些轻微的声音就会被杂音所淹没，这个重要特性称为掩蔽效应，举例来说，假设安静环境下听清某声音A的最小分贝是35db，如果此时同时存在另一声音B，由于声音B的存在，听清声音A的最小分贝是40db，比安静环境下提高了5db。此时我们成声音B为掩蔽声，声音A为被掩蔽声，40db称为掩蔽阈。
当两个频率相近的声音同时存在时，两者可能发生掩蔽效应，人耳会把两个声音听成一个。临界带宽指的就是这样一种令人的主观感觉发生突变的带宽边界，当两个声音的频域距离小于临界带宽时，就会产生屏蔽效应。
我们将滤波器组带宽设置为临界带宽，就能模拟人耳的这一特性。

目前最常用的语音特征提取方式是滤波器组Fbank和Mel-Frequency Cepstral Coefficients (MFCCs)。

### Fbank
filter banks包含如下步骤
- 预加重滤波器
预加重处理其实是一个高通滤波器
$$
H(Z)=1-\mu z^{-1}
$$
目的是提升高频部分，使信号的频谱变得平坦，保持在低频到高频的整个频带中，能用同样的信噪比求频谱。同时，也是为了消除发生过程中声带和嘴唇的效应，来补偿语音信号受到发音系统所抑制的高频部分，也为了突出高频的共振峰。其中$\mu$值介于$0.9 - 1$之间

- 语音分帧
- 加窗
- 短时傅里叶变换STFT
- Mel滤波器组


### MFCC
MFCC包含完整的filter banks操作，在此基础上额外增加了离散余弦变换DCT。


















